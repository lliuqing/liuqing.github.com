<!DOCTYPE html >
<html lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>课程设计</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
<script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<link href="css/style.css" rel="stylesheet">
<script>
	//var loginFlag = false;
	//var loginHelper = null;
	$(document).ready(function(){
		$('.carousel').carousel(     //bootstrap横向轮播
			{
				"pause":"false",
				"interval":20000      //20秒刷新
			}
		);
		
		$('.carousel').on('slide.bs.carousel', function (event) {
			var tag = $(event.relatedTarget).attr("tag");
			var progress = $(event.relatedTarget).attr("progress");
			
			$('#img_home').attr("src", "images/home.png");
			$('#img_intro').attr("src", "images/intro.png");
			$('#img_gift').attr("src", "images/gift.png");
			$('#img_feedback').attr("src", "images/feedback.png");
			$('#img_related').attr("src", "images/related.png");
			
			$('#img_' + tag).attr("src", "images/" + tag + "_selected.png");
			
			//$("#progress").width(progress + "px");
			//$("#progress").css('left', (progress / 2) - 400 + "px");
			$("#progress").animate({width: progress, left: (progress / 2) - 400}, 500);
			playAnimation(tag);
		});
		
		$("body,html").animate({
		   scrollTop:($("#page_home .splash-container").offset().top)
		},10);
		
		playAnimation("home");
		
	}); 
	
	function switchPage(pageIndex){
		$('.carousel').carousel(pageIndex);
	}
	
	function playAnimation(tag){
		var ani1 = $("#page_" + tag + " .ani_step_1");
		var ani2 = $("#page_" + tag + " .ani_step_2");
		var ani3 = $("#page_" + tag + " .ani_step_3");
		var pre_start = ((tag == "home") ? 0 : 300);
		if(ani1 != null){
			ani1.css("opacity", 0);
			setTimeout(function(){
				ani1.animate({opacity: 1}, 1000);
			}, 10 + pre_start);
		}
		if(ani2 != null){
			ani2.css("opacity", 0);
			setTimeout(function(){
				ani2.animate({opacity: 1}, 1000);
			}, 1500 + pre_start);
		}
		if(ani3 != null){
			ani3.css("opacity", 0);
			setTimeout(function(){
				$("#page_" + tag + " .ani_step_3").animate({opacity: 1}, 1000);
			}, 3000 + pre_start);
		}
	}
</script>
</head>
<body>
<div id="carousel_container" class="carousel slide full_height">

	<div class="carousel-inner full_height">

		<div id="page_home" class="page item active" tag="home" progress="150">

			
			<div id="main">
			<div class="cloudLeft"></div>
			<div class="cloudRight"></div>
            <div class="leftTree">
              <div></div><div></div>
            </div>
            <div class="rightTree"></div>
 
				<div id="splash">

					<div class="container splash-container">
						<img src="images/title1.png">
						<div id="splash_introduction" class="ani_step_2">
							<img src="images/02.png" >
						</div>
						
								<div id="splash_download_qrcode">
									<img class="qrcode" src="./images/03.png" height="200px" width="200px">
								
								</div>
								
							
					</div>
				</div>
			</div>
		</div>
		<div id="page_intro" class="page item" tag="intro" progress="300"><!--progress与js一同使用，显示任务的进度-->
			<div id="main">

				<div id="splash" class="ani_step_1">
					<div class="container splash-container">
						<img src="images/22.png" >
					</div>
				</div>
			</div>
		</div>
		<div id="page_gift" class="page item" tag="gift" progress="450">
			<div id="main">


			<div class="booth">
    <div class="ticket"><span>&#9733</span> &#9733&#9733&#9733&#9733 <span>&#9733</span></div>
  </div>


			  <div class="ferris_wheel">
    <div class="wheel_wrap">
      <div class="wheel">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
    <div class="buckets">
      <div><span></span></div>
      <div><span></span></div>
      <div><span></span></div>
      <div><span></span></div>
      <div><span></span></div>
      <div><span></span></div>
      <div><span></span></div>
      <div><span></span></div>
    </div>
    <div class="stand">
      <div></div>
    </div>
  </div>



				<div id="splash">
					<div class="container splash-container ani_step_2">
						<img src="images/78.png" >
					</div>
					
					
						
				
				</div>
			</div>
		</div>
		<div id="page_feedback" class="page item" tag="feedback" progress="600">
			<div id="main">
			<div class="sun"></div>
			<div class="container">   
  <div class="Balloons">
    <div class="BalloonLeft"></div>
    <div class="Ballooncenter"></div>
    <div class="BalloonRight"></div>
    <div class="BalloonBase"></div>
  </div>

</div>
				<div id="splash">
					<div class="container splash-container ani_step_2">
						<img src="images/61.png" >
					</div>
					
					
				</div>
			</div>
		</div>
		<div id="page_related" class="page item" tag="related" progress="750">
			<div id="main">
				<div id="splash" class="ani_step_1">
					<div class="container splash-container">
						<div class="horizental-item">
							<img id="related_demo" src="images/demo.png" >
						</div>
						<div class="horizental-item">
							<div id="splash_introduction">
								<div class="container">
									<div class="horizental-item">
										<img src="images/fresh_icon.png" alt="尝鲜"/>
									</div>
									<div class="horizental-item">
										<h3>没有乘车码？<br>别忘了将支付宝升级至最新版本！</h3>
									</div>
								</div>
								<p>截至目前，杭州已有：<br>
									506、156、188、151、153、155、900、<br>
									55、186、185、90、290、56、199、<br>
									48、61、49、92、133、303、B支1、<br>
									B支7、B3、B支3、B支5、B2、B4、D1<br>
									28条公交路线1000辆车可扫码乘车<br>
									2017年6月底前杭州主城区所有公交将全线铺开<br>
									不过，目前杭州公交电子卡暂不享受公交交通领域的91折、月票以及换乘优惠
								</p>
								
							</div>
						</div>

									
	
							
					</div>
					
				</div>
			</div>
		</div>
	</div>
</div>

<div class="footer" >
    <div id="navbar">
		<div id="dash" ></div>
		<div id="progress"></div>
		<div id="navbtns" class="container" >
			<div class="navbtn">
				<a href="javascript:switchPage(0)">
					<img id="img_home" src="images/home_selected.png" alt="">
					<div>首页</div>
				</a>
			</div>
			<div class="navbtn">
				<a href="javascript:switchPage(1)">
					<img id="img_intro" src="images/intro.png" alt="">
					<div>领卡</div>
				</a>
			</div>
			<div class="navbtn">
				<a href="javascript:switchPage(2)">
					<img id="img_gift" src="images/gift.png" alt="">
					<div>充值</div>
				</a>
			</div>
			<div class="navbtn">
				<a href="javascript:switchPage(3)">
					<img id="img_feedback" src="images/feedback.png" alt="">
					<div>使用</div>
				</a>
			</div>
			<div class="navbtn">
				<a href="javascript:switchPage(4)">
					<img id="img_related" src="images/related.png" alt="">
					<div>注意事项</div>
				</a>
			</div>
		</div>
    </div>
</div>
						<div id="ct_link" class="ani_step_3">
						
						</div>
</body>
</html>